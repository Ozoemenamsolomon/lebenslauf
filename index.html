<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Lebenslauf</title>
		<link
			rel="stylesheet"
			href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" />
		<style>
			@media print {
				.no-print,
				.no-print * {
					display: none !important;
				}

				.section {
					break-inside: avoid;
					page-break-inside: avoid;
					-webkit-column-break-inside: avoid;
					-webkit-page-break-inside: avoid;
					widows: 2;
					orphans: 2;
					/* Ensure block context */
					display: block;
				}

				/* Utility class to force a new page before an element */
				.page-break-before {
					page-break-before: always;
					break-before: page;
				}
			}

			@page {
				margin: 1cm;
				size: A4;
			}
		</style>
	</head>
	<body class="font-serif text-xs">
		<div class="container max-w-3xl mx-auto px-4 py-2">
			<h1 class="title text-center text-xl mb-4 font-bold uppercase">
				Lebenslauf
			</h1>

			<!-- Control panel: hidden when printing -->
			<div
				id="controls"
				class="no-print mb-4 flex justify-end items-center gap-2">
				<span class="text-sm">Language:</span>
				<button id="lang-de" class="px-3 py-1 border rounded bg-gray-200">
					Deutsch
				</button>
				<button id="lang-en" class="px-3 py-1 border rounded bg-white">
					English
				</button>
				<button
					id="print-btn"
					class="px-3 py-1 border rounded bg-white"
					onclick="window.print()">
					Print
				</button>
				<!-- Reorder controls: toggle and panel -->
				<button
					id="reorder-toggle"
					class="px-3 py-1 border rounded bg-white"
					title="Reorder sections">
					Reorder
				</button>
				<div
					id="reorder-panel"
					class="hidden ml-4 p-3 border rounded bg-gray-50 text-sm shadow">
					<div class="mb-2">Drag to reorder sections:</div>
					<ul
						id="reorder-list"
						class="max-h-48 overflow-auto border rounded p-2 bg-white"></ul>
					<div class="mt-2 flex gap-2 justify-end">
						<button
							id="save-order"
							class="px-3 py-1 border rounded bg-green-100">
							Save
						</button>
						<button
							id="clear-order"
							class="px-3 py-1 border rounded bg-yellow-100">
							Clear
						</button>
						<button
							id="cancel-order"
							class="px-3 py-1 border rounded bg-red-100">
							Cancel
						</button>
					</div>
				</div>
			</div>
			<div id="sections"></div>
		</div>

		<script type="module" src="./main.js"></script>
	</body>
</html>
